{"version":3,"file":"chatConfig.min.js","sources":["../src/chatConfig.js"],"sourcesContent":["define('chatConfig', ['jquery'], function($) {\n  /**\n   * Object that stores the chat configuration.\n   * @type {Object}\n   */\n  const chatConfig = {\n    bot_id: null,\n    env: null,\n    api_token: null,\n    user_name: null,\n    bot_name: null,\n    api_base_url: null,\n    SUCCESS_CONECTION_MESSAGE: null,\n    CONECTION_FAILURE_MESSAGE: null,\n    SEND_MESSAGE_FAILURE_MESSAGE: null,\n    DEFAULT_WIDGET_DIMENSIONS: null,\n    CHANNEL_ACRONYM: \"MO\",\n    tokenKey: null,\n    messagesKey: null,\n    token: \"\",\n    messages: [],\n    isPinned: true\n  };\n\n  // Constants for sessionStorage keys\n  const SESSION_STORAGE_KEYS = {\n    TOKEN: \"chatToken_\",\n    MESSAGES: \"chatMessages_\"\n  };\n\n  // Constants for message keys\n  const MESSAGE_KEYS = {\n    SUCCESS: \"success_connection_message\",\n    FAILURE: \"connection_failure_message\",\n    SEND_FAILURE: \"send_message_failure_message\"\n  };\n\n  /**\n   * Sets the chat configuration variables from DOM data.\n   */\n  function setChatConfig() {\n    chatConfig.bot_id = getDataAttribute(\"#chat-widget\", \"bot_id\");\n    chatConfig.env = getDataAttribute(\"#chat-widget\", \"env\");\n    chatConfig.api_token = getDataAttribute(\"#chat-widget\", \"api_token\");\n    chatConfig.user_name = getDataAttribute(\"#chat-widget\", \"user_name\");\n    chatConfig.bot_name = getDataAttribute(\"#chat-widget\", \"bot_name\");\n    chatConfig.api_base_url = getDataAttribute(\"#chat-widget\", \"api_base_url\");\n\n    chatConfig.SUCCESS_CONECTION_MESSAGE = M.util.get_string(\n      MESSAGE_KEYS.SUCCESS,\n      \"block_bgwidget\"\n    );\n    chatConfig.CONECTION_FAILURE_MESSAGE = M.util.get_string(\n      MESSAGE_KEYS.FAILURE,\n      \"block_bgwidget\"\n    );\n    chatConfig.SEND_MESSAGE_FAILURE_MESSAGE = M.util.get_string(\n      MESSAGE_KEYS.SEND_FAILURE,\n      \"block_bgwidget\"\n    );\n\n    chatConfig.tokenKey = SESSION_STORAGE_KEYS.TOKEN + chatConfig.bot_id;\n    chatConfig.messagesKey = SESSION_STORAGE_KEYS.MESSAGES + chatConfig.bot_id;\n    chatConfig.DEFAULT_WIDGET_DIMENSIONS = {\n      WIDTH: \"40%\",\n      HEIGHT: \"50%\",\n      MAX_HEIGHT_UNPINNED: \"90vh\",\n      MAX_HEIGHT_PINNED: \"45vh\"\n    };\n  }\n\n  /**\n   * Retrieves a data attribute from a DOM element.\n   * @param {string} selector - The selector for the DOM element.\n   * @param {string} attribute - The data attribute to retrieve.\n   * @returns {string|null} The value of the data attribute or null if not found.\n   */\n  function getDataAttribute(selector, attribute) {\n    const value = $(selector).data(attribute);\n    return value !== undefined ? value : null;\n  }\n\n  return {\n    chatConfig: chatConfig,\n    setChatConfig: setChatConfig\n  };\n});"],"names":["define","$","chatConfig","bot_id","env","api_token","user_name","bot_name","api_base_url","SUCCESS_CONECTION_MESSAGE","CONECTION_FAILURE_MESSAGE","SEND_MESSAGE_FAILURE_MESSAGE","DEFAULT_WIDGET_DIMENSIONS","CHANNEL_ACRONYM","tokenKey","messagesKey","token","messages","isPinned","SESSION_STORAGE_KEYS","MESSAGE_KEYS","getDataAttribute","selector","attribute","value","data","undefined","setChatConfig","M","util","get_string","WIDTH","HEIGHT","MAX_HEIGHT_UNPINNED","MAX_HEIGHT_PINNED"],"mappings":"AAAAA,mCAAqB,CAAC,WAAW,SAASC,SAKlCC,WAAa,CACjBC,OAAQ,KACRC,IAAK,KACLC,UAAW,KACXC,UAAW,KACXC,SAAU,KACVC,aAAc,KACdC,0BAA2B,KAC3BC,0BAA2B,KAC3BC,6BAA8B,KAC9BC,0BAA2B,KAC3BC,gBAAiB,KACjBC,SAAU,KACVC,YAAa,KACbC,MAAO,GACPC,SAAU,GACVC,UAAU,GAINC,2BACG,aADHA,8BAEM,gBAINC,qBACK,6BADLA,qBAEK,6BAFLA,0BAGU,wCA2CPC,iBAAiBC,SAAUC,iBAC5BC,MAAQvB,EAAEqB,UAAUG,KAAKF,uBACdG,IAAVF,MAAsBA,MAAQ,WAGhC,CACLtB,WAAYA,WACZyB,yBA3CAzB,WAAWC,OAASkB,iBAAiB,eAAgB,UACrDnB,WAAWE,IAAMiB,iBAAiB,eAAgB,OAClDnB,WAAWG,UAAYgB,iBAAiB,eAAgB,aACxDnB,WAAWI,UAAYe,iBAAiB,eAAgB,aACxDnB,WAAWK,SAAWc,iBAAiB,eAAgB,YACvDnB,WAAWM,aAAea,iBAAiB,eAAgB,gBAE3DnB,WAAWO,0BAA4BmB,EAAEC,KAAKC,WAC5CV,qBACA,kBAEFlB,WAAWQ,0BAA4BkB,EAAEC,KAAKC,WAC5CV,qBACA,kBAEFlB,WAAWS,6BAA+BiB,EAAEC,KAAKC,WAC/CV,0BACA,kBAGFlB,WAAWY,SAAWK,2BAA6BjB,WAAWC,OAC9DD,WAAWa,YAAcI,8BAAgCjB,WAAWC,OACpED,WAAWU,0BAA4B,CACrCmB,MAAO,MACPC,OAAQ,MACRC,oBAAqB,OACrBC,kBAAmB"}